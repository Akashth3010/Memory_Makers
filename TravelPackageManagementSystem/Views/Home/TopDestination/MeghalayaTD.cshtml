@* 1. Define the data model expected from the backend *@
@model IEnumerable<TravelPackageManagementSystem.Repository.Models.TravelPackage>

@{
    ViewData["Title"] = "Meghalaya | Into the Clouds";
}

<link rel="stylesheet" href="~/css/travel-style1.css" />
<style>
    :root {
        --accent-color: #00d2ff; /* Cloud Blue */
        --bg-gradient: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    }

    /* Centering and Enhanced Typography */
    .hero-text, .gallery-title, .status-msg {
        text-align: center;
        margin-top: 50px;
        margin-bottom: 30px;
    }

        .hero-text h1 {
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .hero-text span {
            color: var(--accent-color);
            text-shadow: 0px 0px 20px rgba(0, 210, 255, 0.5);
        }

    .gallery-title {
        font-size: 2.5rem;
        font-weight: 700;
        width: 100%;
    }

        .gallery-title span {
            color: var(--accent-color);
        }

    /* Adjusting card layout for dynamic generation */
    .packages-section {
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
        padding: 20px;
    }

    /* Ensure dynamic images fit correctly */
    .pkg-img {
        height: 250px;
        background-size: cover;
        background-position: center;
    }
</style>

<div class="main-page">
    <div class="hero-text">
        <h1>Experience <span>Meghalaya</span></h1>
        <p>Journey into the Abode of Clouds.</p>
    </div>

    <div class="packages-section">
        @* 2. The Dynamic Loop: This replaces your hardcoded cards *@
        @foreach (var item in Model)
        {
            <div class="pkg-card @(item.IsTrending ? "highlight" : "")"
                 onclick="location.href='@Url.Action("MeghPack3", "Home", new { id = item.PackageId })'">

                @* DYNAMIC BACKGROUND IMAGE *@
                <div class="pkg-img" style="background-image: url('@item.ImageUrl');"></div>

                <div class="pkg-body">
                    @if (item.IsTrending)
                    {
                        <span class="hot-tag">Trending</span>
                    }

                    @* DYNAMIC CONTENT FROM DATABASE *@
                    <h3>@item.PackageName</h3>
                    <p>@item.Duration • @item.Location</p>
                    <div class="pkg-price">₹@item.Price.ToString("N0")</div>

                    @* DYNAMIC LINK *@
                    <button class="select-btn">Select Plan</button>
                </div>
            </div>
        }
    </div>

    <h2 class="gallery-title">Hidden <span>Gems</span> of the Northeast</h2>

    <div class="auto-scroll-container">
        <div class="scroll-track">
            <div class="gem-item"><img src="/lib/Image/meg1.jpg"><span>Krang Suri Blue Falls</span></div>
            <div class="gem-item"><img src="/lib/Image/meg2.jpg"><span>Double Decker Root Bridge</span></div>
            <div class="gem-item"><img src="/lib/Image/meg3.jpg"><span>Umngot River (Dawki)</span></div>
            <div class="gem-item"><img src="/lib/Image/meg4.jpg"><span>Wei Sawdong Falls</span></div>
            <div class="gem-item"><img src="/lib/Image/meg5.jpg"><span>Laitlum Canyons</span></div>
            <div class="gem-item"><img src="/lib/Image/meg6.jpg"><span>Mawsmai Caves</span></div>
        </div>
    </div>
</div>